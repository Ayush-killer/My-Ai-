:root {
    --bg: #ffffff;
    --text: #1a1a1a;
    --text-dim: #707070;
    --border: #e8e8e8;
    --user-bg: #212121;
    --sidebar-bg: #f9f9f9;
}

* { margin:0; padding:0; box-sizing:border-box; font-family:'Plus Jakarta Sans', sans-serif; -webkit-tap-highlight-color: transparent; }
body { background:var(--bg); color:var(--text); height:100vh; overflow:hidden; }

/* MST LOADER DESIGN */
.preloader { 
    position: fixed; inset: 0; 
    background: radial-gradient(circle at center, #ffffff 0%, #f0f2f5 100%); 
    display: flex; justify-content: center; align-items: center; z-index: 10000;
    transition: opacity 0.5s ease;
}
.loader-content { text-align: center; }
.loader-logo { font-size: 3rem; font-weight: 800; color: #000; letter-spacing: -2px; margin-bottom: 5px; }
.loader-sub { font-size: 0.8rem; color: #888; letter-spacing: 4px; text-transform: uppercase; margin-bottom: 25px; }
.bar-container { width: 180px; height: 3px; background: #ddd; border-radius: 10px; overflow: hidden; margin: 0 auto; }
.bar-fill { width: 0%; height: 100%; background: #000; animation: load 3s cubic-bezier(0.65, 0, 0.35, 1) forwards; }
.loader-footer { color: #bbb; margin-top: 20px; font-size: 0.7rem; letter-spacing: 2px; }
@keyframes load { 100% { width: 100%; } }

/* App Layout - Initially Hidden for Loader */
.main-app { height: 100vh; display: none; flex-direction: column; }
.header { height: 60px; padding: 0 20px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid var(--border); }

/* Chat Bubbles */
.chat-view { flex: 1; overflow-y: auto; padding: 20px 5%; display: flex; flex-direction: column; gap: 20px; padding-bottom: 140px; }

.user-msg, .ai-msg { display: flex; width: 100%; flex-direction: column; }
.user-msg { align-items: flex-end; }
.ai-msg { align-items: flex-start; }

.bubble { 
    max-width: 75%; 
    padding: 10px 16px; 
    font-size: 0.95rem; 
    line-height: 1.5; 
    word-wrap: break-word;
    width: fit-content;
}

.user-msg .bubble { background: var(--user-bg); color: #fff; border-radius: 18px 18px 2px 18px; }
.ai-msg .bubble { background: transparent; color: var(--text); padding: 10px 0; max-width: 100%; }

h3 { margin: 15px 0 5px 0; font-size: 1.1rem; color: #000; }
ul, ol { padding-left: 20px; margin: 10px 0; }

.input-section { position: fixed; bottom: 0; left: 0; width: 100%; background: #fff; padding: 10px 15px 30px; border-top: 1px solid var(--border); z-index: 1000; }
.input-wrapper { background: #f1f3f4; border-radius: 24px; padding: 10px 16px; display: flex; align-items: center; gap: 10px; }
textarea { flex: 1; background: transparent; border: none; color: #000; outline: none; resize: none; font-size: 1rem; max-height: 150px; }
.send-btn { background: #000; color: #fff; width: 32px; height: 32px; border-radius: 50%; border: none; display: flex; align-items: center; justify-content: center; cursor: pointer; }

.sidebar { position: fixed; left: -280px; width: 280px; height: 100%; background: var(--sidebar-bg); z-index: 2000; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); padding: 20px; border-right: 1px solid var(--border); }
.sidebar.active { left: 0; }
.history-item { background: #fff; border: 1px solid var(--border); padding: 12px; border-radius: 8px; margin-bottom: 8px; cursor: pointer; font-size: 0.85rem; }

.modal-overlay { position: fixed; inset: 0; background: rgba(255,255,255,0.95); display: none; justify-content: center; align-items: center; z-index: 11000; }
.name-modal { background: #fff; padding: 30px; border-radius: 20px; border: 1px solid var(--border); width: 85%; max-width: 340px; text-align: center; box-shadow: 0 15px 40px rgba(0,0,0,0.05); }
.name-input { width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px; margin: 15px 0; outline: none; text-align: center; }
.name-btn { width: 100%; background: #000; color: #fff; border: none; padding: 12px; border-radius: 8px; font-weight: 700; cursor: pointer; }

.switch { position: relative; width: 36px; height: 18px; }
.switch input { opacity: 0; }
.slider { position: absolute; inset: 0; background: #ddd; border-radius: 20px; cursor: pointer; }
.slider:before { content: ""; height: 14px; width: 14px; left: 2px; bottom: 2px; background: white; border-radius: 50%; transition: 0.3s; }
input:checked + .slider { background: #000; }
input:checked + .slider:before { transform: translateX(18px); }

.overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.1); display: none; z-index: 1500; }
.overlay.active { display: block; }
.copy-btn { font-size: 0.7rem; color: #999; cursor: pointer; margin-top: 5px; display: flex; align-items: center; gap: 4px; }
